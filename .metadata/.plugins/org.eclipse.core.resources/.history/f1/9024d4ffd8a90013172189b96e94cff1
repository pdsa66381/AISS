import java.math.BigInteger;

public class RSABigInteger extends BigInteger{

	private static final long serialVersionUID = 1L;

	private PowerStrategy strategy = new SimplePower();
	
	public RSABigInteger(String val) {
		super(val);
	}
	
	@Override
	public BigInteger pow(int exponent) {
		return this.strategy.pow(this, exponent);
	}
	
	@Override
	public BigInteger modPow(BigInteger e, BigInteger n){
		
		BigInteger result = BigInteger.ZERO;
		
		result = this.strategy.pow(this, e);
		result = result.mod(n);
		
		return result;
	}
	
	public void modifyPowerStategy(PowerStrategy strategy){
		this.strategy = strategy;
	}
	
	public static void main(String[] args){
		RSABigInteger x = new RSABigInteger("2");
		System.out.println("x="+x);
		System.out.println(x+" pow 2 = "+x.pow(3));
		x.modifyPowerStategy(new DefaultStrategy());
		System.out.println(x+" pow 2 = "+x.pow(3));
	}
	
}